<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet id="0001_01" author="viktor">
        <sql>
            DROP TABLE IF EXISTS auth_user_role;
            DROP TABLE IF EXISTS auth_role;
            DROP TABLE IF EXISTS auth_user;
            CREATE TABLE auth_role (
            auth_role_id int(11) NOT NULL AUTO_INCREMENT,
            role_name varchar(255) DEFAULT NULL,
            role_desc varchar(255) DEFAULT NULL,
            PRIMARY KEY (auth_role_id)
            );
            INSERT INTO auth_role VALUES (1,'ADMIN','This user has ultimate rights for everything');
            INSERT INTO auth_role VALUES (2,'REGISTERED','This user has registered rights on site');

            CREATE TABLE auth_user (
            auth_user_id int(11) NOT NULL AUTO_INCREMENT,
            first_name varchar(255) NOT NULL,
            last_name varchar(255) NOT NULL,
            email varchar(255) NOT NULL,
            password varchar(255) NOT NULL,
            status varchar(255),
            PRIMARY KEY (auth_user_id)
            );

            CREATE TABLE auth_user_role (
            auth_user_id int(11) NOT NULL,
            auth_role_id int(11) NOT NULL,
            PRIMARY KEY (auth_user_id,auth_role_id),
            KEY FK_user_role (auth_role_id),
            CONSTRAINT FK_auth_user FOREIGN KEY (auth_user_id) REFERENCES auth_user (auth_user_id),
            CONSTRAINT FK_auth_user_role FOREIGN KEY (auth_role_id) REFERENCES auth_role (auth_role_id)
            ) ;

            insert into auth_user (auth_user_id,first_name,last_name,email,password,status) values (1,'Viktor','Zdravkovski','admin@gmail.com','VikAdmin123!','VERIFIED');
            insert into auth_user_role (auth_user_id, auth_role_id) values ('1','1');
            insert into auth_user_role (auth_user_id, auth_role_id) values ('1','2');
        </sql>
    </changeSet>


</databaseChangeLog>